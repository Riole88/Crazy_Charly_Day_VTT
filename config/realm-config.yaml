realm: "myrealm"
enabled: true
registrationAllowed: true
resetPasswordAllowed: true
rememberMe: true
verifyEmail: true # Active la vérification par mail
loginWithEmailAllowed: true

# --- Configuration SMTP (Nécessaire pour les mails) ---
# Note: Ces valeurs sont souvent passées par variables d'env dans le docker-compose
smtpServer:
  host: "mailpit"
  port: "1025"
  from: "admin@monapp.com"
  fromDisplayName: "Mon App Sécurisée"
  replyTo: "no-reply@monapp.com"
  ssl: "false"
  starttls: "false"
  auth: "false"

# --- Connexion via Google ---
# identityProviders:
#   - alias: "google"
#     providerId: "google"
#     enabled: true
#     trustEmail: true
#     storeToken: false
#     addReadTokenRoleOnCreate: false
#     authenticateByDefault: false
#     config:
#       clientId: ""
#       clientSecret: ""
#       guiOrder: "1"

# --- Client PHP ---
clients:
  - clientId: "php-app-client"
    enabled: true
    protocol: "openid-connect"
    publicClient: true
    standardFlowEnabled: true
    directAccessGrantsEnabled: true
    rootUrl: "http://localhost:8000"
    baseUrl: "/"
    redirectUris:
      - "http://localhost:8000/*"
    webOrigins:
      - "+"

roles:
  realm:
    - name: admin
      description: "Administrateur du système"
    - name: user
      description: "Utilisateur standard"

users:
  - username: admin
    email: admin@example.com
    enabled: true
    emailVerified: true
    firstName: Admin
    lastName: User
    credentials:
      - type: password
        value: admin
    realmRoles:
      - admin
